<!DOCTYPE html>
<html lang="en">
<head>
    <style>
    .legenda {
    margin-top: 20px;
}

.item-legenda {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    cursor: pointer;
}

.legenda-cor {
    width: 20px;
    height: 20px;
    margin-right: 10px;
    border: 1px solid #000;
}

area {
    position: relative;
    display: inline-block;
    cursor: pointer;
  }

  .area[data-area="M. Inferior Esquerdo"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(80px 222px, 106px 235px, 116px 268px, 116px 345px, 116px 482px, 86px 481px, 88px 374px, 77px 271px, 83px 225px); /* Adapte as coordenadas conforme necessário */
  }

  .area[data-area="M. Inferior Direito"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(165px 222px,167px 272px,160px 375px, 162px 479px, 130px 479px, 134px 342px, 128px 270px, 140px 232px,163px 220px); /* Adapte as coordenadas conforme necessário */
  }

  .area[data-area="M. Superior Esquerdo"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(90px 98px,64px 106px,40px 238px,20px 258px,31px 282px,46px 282px,53px 242px,73px 193px,80px 133px); /* Adapte as coordenadas conforme necessário */
  }

  .area[data-area="M. Superior Direito"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(160px 97px,185px 106px, 208px 240px,228px 259px,215px 282px,200px 283px,192px 242px,173px 188px,168px 132px); /* Adapte as coordenadas conforme necessário */
  }

  .area[data-area="Pescoço"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(91px 97px,124px 103px,159px 98px,143px 90px,136px 76px,122px 79px,109px 75px,107px 90px); /* Adapte as coordenadas conforme necessário */
  }

  .area[data-area="Cabeça"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(103px 24px,146px 24px,140px 70px,122px 78px,109px 72px); /* Adapte as coordenadas conforme necessário */
  }

  .area[data-area="Tronco"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(90px 100px,123px 104px,159px 98px,167px 130px,159px 209px,140px 234px,123px 234px,108px 234px,89px 213px,80px 131px); /* Adapte as coordenadas conforme necessário */
  }

  .area[data-area="Genitália"]:hover{
    content: '';
    position: absolute;
    top: 100;
    left: 0;
    width: 100%;
    height: 100%;
    top: 100;
    left: 0;
    background-color: rgba(0, 0, 255, 0.3); /* Azul semi-transparente */
    border: 1px solid #0000FF; /* Borda azul */
    z-index: -1; /* Coloca o polígono atrás da área */
    clip-path: polygon(107px 235px,137px 234px,131px 269px,117px 269px); /* Adapte as coordenadas conforme necessário */
  }

  #marcador {
    position: absolute;
    width: 20px;
    top: 300;
    left: 0;
    height: 20px;
    background-color: red; /* Cor do marcador (pode ser ajustada) */
    border-radius: 50%; /* Transforma o marcador em um círculo */
    display: none; /* Inicialmente oculto */
  }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histórico de Ocorrências</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoJtKh7z7lGz7fuP4F8nfdFvAOA6Gg/z6Y5J6XqqyGXYM2ntX28oj6U+4DRx2J23Dfby6S5wEjLgM8lHpw/3954VoEoJ2lG121U+" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pzjw8f+ua7Kw1TIq0v8FqFjcJ6pajs/rfdfs3SO+kD4Ck5BdPtF+to8xMp9Mvc9LwEhsHix7uf0Lts8YD4j1U2yD0qR5D2N++n9e4wt1yT97Ea5IkD4A7s+" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <h2 class="text-center">Histórico de Ocorrências</h2>
        <input class="form-control" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for Occurrence number or Date..">
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>N° Ocorrência</th>
                        <th>Data Ocorrência</th>
                        <th>Preenchedor</th>
                        <th>Visualizar</th>
                    </tr>
                </thead>
                <tbody id="myTable">
                    <tr>
                        <td>001</td>
                        <td>10/04/2022</td>
                        <td>João</td>
                        <td><button type="button" class="btn btn-primary">Visualizar</button></td>
                    </tr>
                    <tr>
                        <td>002</td>
                        <td>10/04/2022</td>
                        <td>Carlos</td>
                        <td><button type="button" class="btn btn-primary">Visualizar</button></td>
                    </tr>
                    <tr>
                        <td>003</td>
                        <td>10/04/2022</td>
                        <td>Vitória</td>
                        <td><button type="button" class="btn btn-primary">Visualizar</button></td>
                    </tr>
                    <tr>
                        <td>001</td>
                        <td>11/04/2022</td>
                        <td>Henrique</td>
                        <td><button type="button" class="btn btn-primary">Visualizar</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    
            <div id="local_trauma_adulto">
            <img src="/Pages/img/Design sem nome (4)-PhotoRoom.png-PhotoRoom.png" alt="Local Traumas adulto" usemap="#local_trauma_adulto" 
            width="500" height="500">
            <map name="local_trauma_adulto">
                    <area class="area" data-area="M. Inferior Esquerdo" id="m_inferior_esquerdo" shape="poly" coords="80,222,106,235,116,268,116,345,116,482,86,481,88,374,77,271,83,225 " alt="M. Inferior Esquerdo"><div id="marcador"></div>
                    <area class="area" data-area="M. Inferior Direito" id="m_inferior_direito" shape="poly" coords="165,222,167,272,160,375,162,479,130,479,134,342,128,270,140,232,163,220" alt="M. Inferior Direito">
                    <area class="area" data-area="M. Superior Esquerdo" id="m_superior_esquerdo" shape="poly" coords="90,98,64,106,40,238,20,258,31,282,46,282,53,242,73, 194,80,133" alt="M. Superior Esquerdo">
                    <area class="area" data-area="M. Superior Direito" id="m_superior_direito" shape="poly" coords="160,97,185,106,208,240,228,259,215,282,200,283,192,242,173,188,168,132" alt="M. Superior Direito">
                    <area class="area" data-area="Pescoço" id="Pescoço" shape="poly" coords="91,97,124,103,159,98,143,90,136,76,122,79,109,75,107,90" alt="Pescoço">
                    <area class="area" data-area="Cabeça" id="Cabeça" shape="poly" coords="103,24,146,24,140,70,122,78,109,72" alt="Cabeça">
                    <area class="area" data-area="Tronco" id="Tronco" shape="poly" coords="90,100,123,104,159,98,167,130,159,209,140,234,123,234,108,234,89,213,80,131" alt="Tronco">
                    <area class="area" data-area="Genitália" id="Genitália" shape="poly" coords="107,235,137,234,131,269,117,269" alt="Genitália">
            </map>
       </div>
       <div class="legenda">
        <p>Legenda:</p>
    <div class="item-legenda" data-trauma="fraturas">
        <div class="legenda-cor" style="background-color: #FF0000;"></div>
        Fraturas
    </div>
    <div class="item-legenda" data-trauma="luxacoes">
        <div class="legenda-cor" style="background-color: #00FF00;"></div>
        Luxações
    </div>
    <div class="item-legenda" data-trauma="entorses">
        <div class="legenda-cor" style="background-color: #0000FF;"></div>
        Entorses
    </div>
    </div>
    <table id="tabela">
        <thead>
            <tr>
                <th>Parte do Corpo</th>
                <th>Tipo de Trauma</th>
            </tr>
        </thead>
        <tbody>
            <!-- As informações serão adicionadas dinamicamente aqui -->
        </tbody>
    </table>
</div>
        <script>

document.addEventListener('DOMContentLoaded', function () {
    const areas = document.querySelectorAll('area');
    const legendaItens = document.querySelectorAll('.item-legenda');
    const tabela = document.getElementById('tabela');
    const marcador = document.getElementById('marcador');

    areas.forEach(area => {
        area.addEventListener('mouseover', function () {
            this.classList.add('hovered');
        });

        area.addEventListener('mouseout', function () {
            this.classList.remove('hovered');
        });

        area.addEventListener('click', function () {
            // Limpar a tabela antes de adicionar uma nova linha
            tabela.querySelectorAll('tbody tr').forEach(row => row.remove());

            const selectedArea = this.getAttribute('data-area');
            const selectedTrauma = document.querySelector('.item-legenda.active')?.getAttribute('data-trauma');

            if (selectedTrauma) {
                const newRow = tabela.insertRow();
                newRow.innerHTML = `<td>${selectedArea}</td><td>${selectedTrauma}</td>`;
            } else {
                alert('Selecione um tipo de trauma na legenda.');
            }

            // Exibir o marcador nas coordenadas da área clicada
            const coords = this.coords.split(',').map(coord => parseInt(coord));
            const centerX = (Math.max(...coords) + Math.min(...coords)) / 2;
            const centerY = (Math.max(...coords.slice(1)) + Math.min(...coords.slice(1))) / 2;

            marcador.style.left = `${centerX}px`;
            marcador.style.top = `${centerY}px`;
            marcador.style.display = 'block';
        });
    });

    legendaItens.forEach(item => {
        item.addEventListener('click', function () {
            legendaItens.forEach(item => item.classList.remove('active'));
            this.classList.add('active');

            // Adicionar a cor da legenda ao marcador
            const selectedColor = this.querySelector('.legenda-cor').style.backgroundColor;
            marcador.style.backgroundColor = selectedColor;
        });
    });
});
    </script>
    
</body>
</html>